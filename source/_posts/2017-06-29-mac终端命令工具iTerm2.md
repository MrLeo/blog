---
title: Macç»ˆç«¯-iTerm2
categories:
  - mac
tags:
  - mac
  - ç»ˆç«¯
  - iTerm2
  - zsh
abbrlink: 14eb7497
date: 2017-06-29 09:49:40
updated: 2017-06-29 09:49:40
---



> [https://www.zhihu.com/question/27447370](https://www.zhihu.com/question/27447370)
>
> [https://medium.com/ayuth/iterm2-zsh-oh-my-zsh-the-most-power-full-of-terminal-on-macos-bdb2823fb04c](https://medium.com/ayuth/iterm2-zsh-oh-my-zsh-the-most-power-full-of-terminal-on-macos-bdb2823fb04c)
>
> [https://jeremysu0131.github.io/Tool-Mac-iTerm-2-Oh-My-Zsh-Powerlevel9k-è¨­å®š/Â ](https://jeremysu0131.github.io/Tool-Mac-iTerm-2-Oh-My-Zsh-Powerlevel9k-è¨­å®š/)

<!-- more -->

# æ™ºèƒ½é€‰ä¸­

åŒå‡»é€‰ä¸­ã€ä¸‰å‡»é€‰ä¸­æ•´è¡Œã€å››å‡»æ™ºèƒ½é€‰ä¸­ï¼ˆæ™ºèƒ½è§„åˆ™å¯[é…ç½®](https://www.iterm2.com/documentation-smart-selection.html)ï¼‰ï¼Œé€‰ä¸­å³å¤åˆ¶

# å·§ç”¨ âŒ˜ é”®

æŒ‰ä½ âŒ˜ é”®

- å¯ä»¥æ‹–æ‹½é€‰ä¸­çš„å­—ç¬¦ä¸²ï¼›
- ç‚¹å‡» urlï¼šè°ƒç”¨é»˜è®¤æµè§ˆå™¨è®¿é—®è¯¥ç½‘å€ï¼›
- ç‚¹å‡»æ–‡ä»¶ï¼šè°ƒç”¨é»˜è®¤ç¨‹åºæ‰“å¼€æ–‡ä»¶ï¼›
- å¦‚æœæ–‡ä»¶åæ˜¯`filename:42`ï¼Œä¸”é»˜è®¤æ–‡æœ¬ç¼–è¾‘å™¨æ˜¯ `Macvim`ã€`Textmate`æˆ–`BBEdit`ï¼Œå°†ä¼šç›´æ¥æ‰“å¼€åˆ°è¿™ä¸€è¡Œï¼›
- ç‚¹å‡»æ–‡ä»¶å¤¹ï¼šåœ¨ `finder` ä¸­æ‰“å¼€è¯¥æ–‡ä»¶å¤¹ï¼›
- åŒæ—¶æŒ‰ä½`âŒ¥`é”®ï¼Œå¯ä»¥ä»¥çŸ©å½¢é€‰ä¸­ï¼Œç±»ä¼¼äº vim ä¸­çš„`âŒƒ v`æ“ä½œã€‚

# å¿«æ·é”®

## æ ‡ç­¾

æ–°å»ºæ ‡ç­¾ï¼š`âŒ˜ + t`

å…³é—­æ ‡ç­¾ï¼š`âŒ˜ + w`

åˆ‡æ¢æ ‡ç­¾ï¼š
`âŒ˜ + æ•°å­—` `âŒ˜ + å·¦å³æ–¹å‘é”®`

åˆ‡æ¢å…¨å±ï¼š`âŒ˜ + enter`

æŸ¥æ‰¾ï¼š`âŒ˜ + f`

## åˆ†å±

å‚ç›´åˆ†å±ï¼š`âŒ˜ + d`

æ°´å¹³åˆ†å±ï¼š`âŒ˜ + â‡§ + d`

åˆ‡æ¢å±å¹•ï¼š
`âŒ˜ + âŒ¥ + æ–¹å‘é”®`
`âŒ˜ + [` æˆ– `âŒ˜ + ]`

æŸ¥çœ‹å†å²å‘½ä»¤ï¼š`âŒ˜ + ;`

æŸ¥çœ‹å‰ªè´´æ¿å†å²ï¼š`âŒ˜ + â‡§ + h`

## å…¶ä»–

æ¸…é™¤å½“å‰è¡Œï¼š`âŒƒ + u`

åˆ°è¡Œé¦–ï¼š`âŒƒ + a`

åˆ°è¡Œå°¾ï¼š`âŒƒ + e`

å‰è¿›åé€€ï¼š`âŒƒ + f/b` (ç›¸å½“äºå·¦å³æ–¹å‘é”®)

ä¸Šä¸€æ¡å‘½ä»¤ï¼š`âŒƒ + p`

æœç´¢å‘½ä»¤å†å²ï¼š`âŒƒ + r`

åˆ é™¤å½“å‰å…‰æ ‡çš„å­—ç¬¦ï¼š`âŒƒ + d`

åˆ é™¤å…‰æ ‡ä¹‹å‰çš„å­—ç¬¦ï¼š`âŒƒ + h`

åˆ é™¤å…‰æ ‡ä¹‹å‰çš„å•è¯ï¼š`âŒƒ + w`

åˆ é™¤åˆ°æ–‡æœ¬æœ«å°¾ï¼š`âŒƒ + k`

äº¤æ¢å…‰æ ‡å¤„æ–‡æœ¬ï¼š`âŒƒ + t`

æ¸…å± 1ï¼š`âŒ˜ + r`

æ¸…å± 2ï¼š`âŒƒ + l`

æ—¶é—´çº¿ï¼š`âŒ˜ + â‡§ + e`

## è‡ªå¸¦æœ‰å“ªäº›å¾ˆå®ç”¨çš„åŠŸèƒ½/å¿«æ·é”®

`âŒ˜ + æ•°å­—` åœ¨å„ tab æ ‡ç­¾ç›´æ¥æ¥å›åˆ‡æ¢

é€‰æ‹©å³å¤åˆ¶ + é¼ æ ‡ä¸­é”®ç²˜è´´ï¼Œè¿™ä¸ªå¾ˆå®ç”¨

`âŒ˜ + f` æ‰€æŸ¥æ‰¾çš„å†…å®¹ä¼šè¢«è‡ªåŠ¨å¤åˆ¶

`âŒ˜ + d` æ¨ªç€åˆ†å± /
`âŒ˜ + â‡§ + d` ç«–ç€åˆ†å±

`âŒ˜ + r` = `clear`ï¼Œè€Œä¸”åªæ˜¯æ¢åˆ°æ–°ä¸€å±ï¼Œä¸ä¼šæƒ³ `clear` ä¸€æ ·åˆ›å»ºä¸€ä¸ªç©ºå±

`âŒƒ + u` æ¸…ç©ºå½“å‰è¡Œï¼Œæ— è®ºå…‰æ ‡åœ¨ä»€ä¹ˆä½ç½®

è¾“å…¥å¼€å¤´å‘½ä»¤å æŒ‰ `âŒ˜ + ;` ä¼šè‡ªåŠ¨åˆ—å‡ºè¾“å…¥è¿‡çš„å‘½ä»¤

`âŒ˜ + â‡§ + h` ä¼šåˆ—å‡ºå‰ªåˆ‡æ¿å†å²

å¯ä»¥åœ¨ Preferences > keys è®¾ç½®å…¨å±€å¿«æ·é”®è°ƒå‡º itermï¼Œè¿™ä¸ªä¹Ÿå¯ä»¥ç”¨è¿‡ Alfred å®ç°

## å¸¸ç”¨çš„ä¸€äº›å¿«æ·é”®

`âŒ˜ + 1 / 2` å·¦å³ tab ä¹‹é—´æ¥å›åˆ‡æ¢ï¼Œè¿™ä¸ªåœ¨ å‰é¢ å·²ç»ä»‹ç»è¿‡äº†

`âŒ˜â†` / `âŒ˜â†’` åˆ°ä¸€è¡Œå‘½ä»¤æœ€å·¦è¾¹/æœ€å³è¾¹ ï¼Œè¿™ä¸ªåŠŸèƒ½åŒ `C+a` / `C+e`

`âŒ¥â†` / `âŒ¥â†’` æŒ‰å•è¯å‰ç§»/åç§»ï¼Œç›¸å½“ä¸ `C+f` / `C+b`ï¼Œå…¶å®è¿™ä¸ªåŠŸèƒ½åœ¨ Iterm ä¸­å·²ç»é¢„å®šä¹‰å¥½äº†ï¼Œ`âŒ¥f` / `âŒ¥b`ï¼Œçœ‹ä¸ªäººä¹ æƒ¯äº†

å¥½åƒå°±è¿™å‡ ä¸ª

è®¾ç½®æ–¹æ³•å¦‚ä¸‹

å½“ç„¶é™¤äº†è¿™äº›å¯ä»¥è‡ªå®šä¹‰çš„ä¹Ÿä¸èƒ½å¿˜äº† linux ä¸‹é‚£äº›å¥½ç”¨çš„ç»„åˆ

`C+a` / `C+e` è¿™ä¸ªå‡ ä¹åœ¨å“ªéƒ½å¯ä»¥ä½¿ç”¨

`C+p` / `!!` ä¸Šä¸€æ¡å‘½ä»¤

`C+k` ä»å…‰æ ‡å¤„åˆ è‡³å‘½ä»¤è¡Œå°¾ (æœ¬æ¥ `C+u` æ˜¯åˆ è‡³å‘½ä»¤è¡Œé¦–ï¼Œä½† iterm ä¸­æ˜¯åˆ æ‰æ•´è¡Œ)

`C+w` `A+d` ä»å…‰æ ‡å¤„åˆ è‡³å­—é¦–/å°¾

`C+h` `C+d` åˆ æ‰å…‰æ ‡å‰åçš„è‡ªè´Ÿ

`C+y` ç²˜è´´è‡³å…‰æ ‡å

`C+r` æœç´¢å‘½ä»¤å†å²ï¼Œè¿™ä¸ªè¾ƒå¸¸ç”¨

## æ ‡è®°è·³è½¬

> ç±»ä¼¼ç¼–è¾‘å™¨çš„ mark å·¥å…·ï¼ŒiTerm2 ä¹Ÿå¯ä»¥åœ¨å‘½ä»¤è¡Œä½ç½®è®¾ç½®æ ‡è®°

è®¾ç½®æ ‡è®°ï¼š`âŒ˜ + â‡§ + m`

è·³è½¬åˆ°ä¸Šä¸ªæ ‡è®°ï¼š`âŒ˜ + â‡§ + j`

å¤šä¸ªæ ‡è®°åˆ‡æ¢ï¼š`âŒ˜ + â‡§ + æ–¹å‘é”®`

## é€‰ä¸­å³å¤åˆ¶

iterm2 æœ‰ 2 ç§å¥½ç”¨çš„é€‰ä¸­å³å¤åˆ¶æ¨¡å¼ã€‚

ä¸€ç§æ˜¯ç”¨é¼ æ ‡ï¼Œåœ¨ iterm2 ä¸­ï¼Œé€‰ä¸­æŸä¸ªè·¯å¾„æˆ–è€…æŸä¸ªè¯æ±‡ï¼Œé‚£ä¹ˆï¼Œiterm2 å°±è‡ª åŠ¨å¤åˆ¶äº†ã€‚
å¦ä¸€ç§æ˜¯æ— é¼ æ ‡æ¨¡å¼ï¼ŒâŒ˜+f,å¼¹å‡º iterm2 çš„æŸ¥æ‰¾æ¨¡å¼ï¼Œè¾“å…¥è¦æŸ¥æ‰¾å¹¶å¤åˆ¶çš„å†…å®¹çš„å‰å‡ ä¸ªå­—æ¯ï¼Œç¡®è®¤æ‰¾åˆ°çš„æ˜¯è‡ªå·±çš„å†…å®¹ä¹‹åï¼Œè¾“å…¥ tabï¼ŒæŸ¥æ‰¾çª—å£å°†è‡ªåŠ¨å˜åŒ–å†…å®¹ï¼Œå¹¶å°†å…¶å¤åˆ¶ã€‚å¦‚æœè¾“å…¥çš„æ˜¯ â‡§+tabï¼Œåˆ™è‡ªåŠ¨å°†æŸ¥æ‰¾å†…å®¹çš„å·¦è¾¹é€‰ä¸­å¹¶å¤åˆ¶ã€‚

è‡ªåŠ¨å®Œæˆ
è¾“å…¥æ‰“å¤´å‡ ä¸ªå­—æ¯ï¼Œç„¶åè¾“å…¥ `âŒ˜+;` iterm2 å°†è‡ªåŠ¨åˆ—å‡ºä¹‹å‰è¾“å…¥è¿‡çš„ç±»ä¼¼å‘½ä»¤ã€‚

## å‰ªåˆ‡å†å²

è¾“å…¥ `âŒ˜+â‡§+h`ï¼Œiterm2 å°†è‡ªåŠ¨åˆ—å‡ºå‰ªåˆ‡æ¿çš„å†å²è®°å½•ã€‚å¦‚æœéœ€è¦å°†å‰ªåˆ‡æ¿çš„å†å²è®°å½•ä¿å­˜åˆ°ç£ç›˜ï¼Œåœ¨ Preferences > General > Save copy/paste history to disk ä¸­è®¾ç½®ã€‚

## åŠæ—¶å›æ”¾

> æŸä¸ªäº¤äº’å‘½ä»¤ä¼šè¦†å†™å±å¹•ä¸Šçš„è¾“å…¥ï¼Œä¹‹å‰çš„å†å²ä¿¡æ¯å¯èƒ½ä¼šè¢«è¦†ç›–æ‰ï¼Œæ— æ³•æŸ¥çœ‹ï¼Œiterm2 è¿™ä¸ªåŠæ—¶å›æ”¾åŠŸèƒ½ï¼Œä¼šè®°å½•å†å²è¾“å…¥ï¼Œè¾“å‡ºï¼Œæœ‰ç‚¹ç±»ä¼¼è§†é¢‘å½•åˆ¶ã€‚

è¿›å…¥å›æ”¾ï¼š`âŒ˜ + opt + b`

æ–¹å‘é”®æ§åˆ¶æ—¶é—´ ï¼š`arrow`

é€€å‡ºå›æ”¾ï¼š`esc`

# oh-my-zsh

> https://www.zhihu.com/question/29977255

## æ™ºèƒ½è¡¥å…¨

cd ~/ åˆ‡æ¢ç›®å½•ï¼Œæ•²å‡»`ä¸¤ä¸‹tab`ï¼Œä¼šåˆ—å‡ºå½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰ç›®å½•ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨é”®ç›˜ä¸Šä¸‹å·¦å³é”®æ¥é€‰æ‹©è¦è¿›å…¥çš„ç›®å½•ã€‚

å‘½ä»¤é€‰é¡¹è¡¥é½ï¼Œæ¯”å¦‚è¾“å…¥ dockerï¼Œç„¶åæŒ‰ tabï¼Œå³å¯æ˜¾ç¤ºå‡º docker éƒ½æœ‰å“ªäº›å‘½ä»¤é€‰é¡¹ã€‚

## æ™ºèƒ½åˆ‡æ¢ç›®å½•

è¿›å…¥ä¸€ä¸ªå¾ˆæ·±çš„ç›®å½•ï¼Œä¾‹å¦‚ `/var/log/nginx/error/lastyear/may/first/monday`, ç”¨ zsh å¯ä»¥è¿™æ ·è¾“å…¥ `cd /v/l/n/e/l/m/f/m` ç„¶åæŒ‰ tab å³å¯è¡¥å…¨æ•´ä¸ªè·¯å¾„ã€‚æˆ–è€…ä½ å®ç°çŸ¥é“å½“å‰ç›®å½•åç§°ï¼Œå¯ä»¥ç›´æ¥è¾“å…¥ç›®å½•ï¼Œå³å¯è¿›å»ç›®å½•ã€‚

åœ¨ zsh ä¸‹å¯ä»¥è®°å½•æœ€è¿‘è¿›è¿‡çš„ 10 ä¸ªç›®å½•ï¼Œåªéœ€è¦è¾“å…¥`d`ï¼Œç„¶åå°±å¯ä»¥çœ‹åˆ°å¯¹åº”çš„ 0-9 çš„ç›®å½•ï¼Œè¾“å…¥`cd -æ•°å­—`å³å¯è¿›å…¥å¯¹åº”çš„ç›®å½•ã€‚

æˆ–è€…ç›´æ¥è¾“å…¥ `cd -` ç„¶å `tab`ï¼Œä¼šåˆ—å‡ºæœ€è¿‘ä½¿ç”¨è¿‡çš„ 31 ä¸ªç›®å½•ã€‚



# Tmux

> <http://louiszhai.github.io/2017/09/30/tmux/>

tmuxæ˜¯ä¸€æ¬¾ä¼˜ç§€çš„ç»ˆç«¯å¤ç”¨è½¯ä»¶ï¼Œå®ƒæ¯”Screenæ›´åŠ å¼ºå¤§ï¼Œè‡³äºå¦‚ä½•å¼ºå¤§ï¼Œç½‘ä¸Šæœ‰å¤§é‡çš„æ–‡ç« è®¨è®ºäº†è¿™ç‚¹ï¼Œæœ¬æ–‡ä¸å†é‡å¤ã€‚tmuxä¹‹æ‰€ä»¥å—äººä»¬å–œçˆ±ï¼Œä¸»è¦å¾—ç›Šäºä»¥ä¸‹ä¸‰å¤„åŠŸèƒ½ï¼š

- ä¸æ»‘åˆ†å±ï¼ˆsplitï¼‰ï¼Œè™½ç„¶iTem2ä¹Ÿæä¾›äº†æ¨ªå‘å’Œç«–å‘åˆ†å±åŠŸèƒ½ï¼Œä½†è¿™ç§åˆ†å±åŠŸèƒ½éå¸¸æ‹™åŠ£ï¼Œå®Œå…¨ç­‰åŒäºå±å¹•æ–°å¼€ä¸€ä¸ªçª—å£ï¼Œæ–°å¼€çš„paneä¸ä¼šè‡ªåŠ¨è¿›å…¥åˆ°å½“å‰ç›®å½•ï¼Œä¹Ÿæ²¡æœ‰è®°ä½å½“å‰ç™»å½•çŠ¶æ€ã€‚è¿™æ„å‘³ç€å¦‚æœæˆ‘sshè¿›å…¥åˆ°è¿œç¨‹æœåŠ¡å™¨æ—¶ï¼ŒiTem2æ–°å¼€çš„paneä¸­ï¼Œæˆ‘ä¾ç„¶è¦é‡æ–°èµ°ä¸€ésshç™»å½•çš„è€è·¯ï¼ˆomgï¼‰ã€‚tmuxå°±ä¸ä¼šè¿™æ ·ï¼Œtmuxçª—å£ä¸­ï¼Œæ–°å¼€çš„paneï¼Œé»˜è®¤è¿›å…¥åˆ°ä¹‹å‰çš„è·¯å¾„ï¼Œå¦‚æœæ˜¯sshè¿æ¥ï¼Œç™»å½•çŠ¶æ€ä¹Ÿä¾æ—§ä¿æŒç€ï¼Œå¦‚æ­¤ä¸€æ¥ï¼Œæˆ‘å°±å¯ä»¥éšæ„çš„å¢åˆ paneï¼Œè¿™ç§çµæ´»æ€§ï¼Œå¥½å¤„ä¸è¨€è€Œå–»ã€‚
- ä¿æŠ¤ç°åœºï¼ˆattachï¼‰ï¼Œå³ä½¿å‘½ä»¤è¡Œçš„å·¥ä½œåªè¿›è¡Œåˆ°ä¸€åŠï¼Œå…³é—­ç»ˆç«¯åè¿˜å¯ä»¥é‡æ–°è¿›å…¥åˆ°æ“ä½œç°åœºï¼Œç»§ç»­å·¥ä½œã€‚å¯¹äºsshè¿œç¨‹è¿æ¥è€Œè¨€ï¼Œå³ä½¿ç½‘ç»œä¸ç¨³å®šä¹Ÿæ²¡æœ‰å…³ç³»ï¼Œæ‰çº¿åé‡æ–°è¿æ¥ï¼Œå¯ä»¥ç›´å¥”ç°åœºï¼Œä¹‹å‰è¿è¡Œä¸­çš„ä»»åŠ¡ï¼Œä¾æ—§åœ¨è·‘ï¼Œå°±å¥½åƒä»æ¥æ²¡æœ‰ç¦»å¼€è¿‡ä¸€æ ·ï¼›ç‰¹åˆ«æ˜¯åœ¨è¿œç¨‹æœåŠ¡å™¨ä¸Šè¿è¡Œè€—æ—¶çš„ä»»åŠ¡ï¼Œtmuxå¯ä»¥å¸®ä½ ä¸€ç›´ä¿æŒä½ä¼šè¯ã€‚å¦‚æ­¤ä¸€æ¥ï¼Œä½ å°±å¯ä»¥éšæ—¶éšåœ°æ”¾å¿ƒåœ°è¿›è¡Œç§»åŠ¨åŠå…¬ï¼Œåªè¦ä½ é™„è¿‘çš„è®¡ç®—æœºè£…æœ‰tmuxï¼ˆæ²¡æœ‰ä½ ä¹Ÿå¯ä»¥èŠ±å‡ åˆ†é’Ÿè£…ä¸€ä¸ªï¼‰ï¼Œä½ å°±èƒ½ç»§ç»­åˆšæ‰çš„å·¥ä½œã€‚
- ä¼šè¯å…±äº«ï¼ˆé€‚ç”¨äºç»“å¯¹ç¼–ç¨‹æˆ–è¿œç¨‹æ•™å­¦ï¼‰ï¼Œå°† tmux ä¼šè¯çš„åœ°å€åˆ†äº«ç»™ä»–äººï¼Œè¿™æ ·ä»–ä»¬å°±å¯ä»¥é€šè¿‡ SSH æ¥å…¥è¯¥ä¼šè¯ã€‚å¦‚æœä½ è¦ç»™åŒäº‹æ¼”ç¤ºè¿œç¨‹æœåŠ¡å™¨çš„æ“ä½œï¼Œä»–ä¸å¿…ç›´å‹¾å‹¾åœ°ç›¯ç€ä½ çš„å±å¹•ï¼Œå€ŸåŠ©tmuxï¼Œä»–å®Œå…¨å¯ä»¥è¿›å…¥åˆ°ä½ çš„ä¼šè¯ï¼Œç„¶åé™é™åœ°çœ‹ç€ä»–æ¡Œé¢ä¸Šä½ é£éªšçš„é”®ç›˜èµ°ä½ï¼Œåªè¦ä»–æ„¿æ„ï¼Œç”šè‡³è¿˜å¯ä»¥å½•ä¸ªå±ã€‚

```bash
# å®‰è£…tmux
brew install tmux
```

## ä¼šè¯

### æ–°å»ºä¼šè¯

æ–°å»ºä¸€ä¸ªtmux sessionéå¸¸ç®€å•ï¼Œè¯­æ³•ä¸º`tmux new -s session-name`ï¼Œä¹Ÿå¯ä»¥ç®€å†™ä¸º`tmux`ï¼Œä¸ºäº†æ–¹ä¾¿ç®¡ç†ï¼Œå»ºè®®æŒ‡å®šä¼šè¯åç§°ï¼Œå¦‚ä¸‹ã€‚

```bash
tmux # æ–°å»ºä¸€ä¸ªæ— åç§°çš„ä¼šè¯
tmux new -s demo # æ–°å»ºä¸€ä¸ªåç§°ä¸ºdemoçš„ä¼šè¯
```

### æ–­å¼€å½“å‰ä¼šè¯

ä¼šè¯ä¸­æ“ä½œäº†ä¸€æ®µæ—¶é—´ï¼Œæˆ‘å¸Œæœ›æ–­å¼€ä¼šè¯åŒæ—¶ä¸‹æ¬¡è¿˜èƒ½æ¥ç€ç”¨ï¼Œæ€ä¹ˆåšï¼Ÿæ­¤æ—¶å¯ä»¥ä½¿ç”¨detachå‘½ä»¤ã€‚

```bash
tmux detach # æ–­å¼€å½“å‰ä¼šè¯ï¼Œä¼šè¯åœ¨åå°è¿è¡Œ
```

ä¹Ÿè®¸ä½ è§‰å¾—è¿™ä¸ªå¤ªéº»çƒ¦äº†ï¼Œæ˜¯çš„ï¼Œtmuxçš„ä¼šè¯ä¸­ï¼Œæˆ‘ä»¬å·²ç»å¯ä»¥ä½¿ç”¨tmuxå¿«æ·é”®äº†ã€‚ä½¿ç”¨å¿«æ·é”®ç»„åˆ`Ctrl+b` + `d`ï¼Œä¸‰æ¬¡æŒ‰é”®å°±å¯ä»¥æ–­å¼€å½“å‰ä¼šè¯ã€‚

### è¿›å…¥ä¹‹å‰çš„ä¼šè¯

æ–­å¼€ä¼šè¯åï¼Œæƒ³è¦æ¥ç€ä¸Šæ¬¡ç•™ä¸‹çš„ç°åœºç»§ç»­å·¥ä½œï¼Œå°±è¦ä½¿ç”¨åˆ°tmuxçš„attachå‘½ä»¤äº†ï¼Œè¯­æ³•ä¸º`tmux attach-session -t session-name`ï¼Œå¯ç®€å†™ä¸º`tmux a -t session-name` æˆ– `tmux a`ã€‚é€šå¸¸æˆ‘ä»¬ä½¿ç”¨å¦‚ä¸‹ä¸¤ç§æ–¹å¼ä¹‹ä¸€å³å¯ï¼š

```bash
tmux a # é»˜è®¤è¿›å…¥ç¬¬ä¸€ä¸ªä¼šè¯
tmux a -t demo # è¿›å…¥åˆ°åç§°ä¸ºdemoçš„ä¼šè¯
```

### å…³é—­ä¼šè¯

ä¼šè¯çš„ä½¿å‘½å®Œæˆåï¼Œä¸€å®šæ˜¯è¦å…³é—­çš„ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨tmuxçš„killå‘½ä»¤ï¼Œkillå‘½ä»¤æœ‰`kill-pane`ã€`kill-server`ã€`kill-session` å’Œ `kill-window`å…±å››ç§ï¼Œå…¶ä¸­`kill-session`çš„è¯­æ³•ä¸º`tmux kill-session -t session-name`ã€‚å¦‚ä¸‹ï¼š

```bash
tmux kill-session -t demo # å…³é—­demoä¼šè¯
tmux kill-server # å…³é—­æœåŠ¡å™¨ï¼Œæ‰€æœ‰çš„ä¼šè¯éƒ½å°†å…³é—­
```

### æŸ¥çœ‹æ‰€æœ‰çš„ä¼šè¯

ç®¡ç†ä¼šè¯çš„ç¬¬ä¸€æ­¥å°±æ˜¯è¦æŸ¥çœ‹æ‰€æœ‰çš„ä¼šè¯ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š

```bash
tmux list-session # æŸ¥çœ‹æ‰€æœ‰ä¼šè¯
tmux ls # æŸ¥çœ‹æ‰€æœ‰ä¼šè¯ï¼Œæå€¡ä½¿ç”¨ç®€å†™å½¢å¼
```

å¦‚æœåˆšå¥½å¤„äºä¼šè¯ä¸­æ€ä¹ˆåŠï¼Ÿåˆ«æ‹…å¿ƒï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¯¹åº”çš„tmuxå¿«æ·é”®`Ctrl+b` + `s`ï¼Œæ­¤æ—¶tmuxå°†æ‰“å¼€ä¸€ä¸ªä¼šè¯åˆ—è¡¨ï¼ŒæŒ‰ä¸Šä¸‹é”®(â¬†ï¸â¬‡ï¸)æˆ–è€…é¼ æ ‡æ»šè½®ï¼Œå¯é€‰ä¸­ç›®æ ‡ä¼šè¯ï¼ŒæŒ‰å·¦å³é”®ï¼ˆâ¬…ï¸âœï¼‰å¯æ”¶èµ·æˆ–å±•å¼€ä¼šè¯çš„çª—å£ï¼Œé€‰ä¸­ç›®æ ‡ä¼šè¯æˆ–çª—å£åï¼ŒæŒ‰å›è½¦é”®å³å¯å®Œæˆåˆ‡æ¢ã€‚

![](http://louiszhai.github.io/docImages/tmux02.png)

## Tmuxå¿«æ·æŒ‡ä»¤

å…³äºå¿«æ·æŒ‡ä»¤ï¼Œé¦–å…ˆè¦è®¤è¯†åˆ°çš„æ˜¯ï¼štmuxçš„æ‰€æœ‰æŒ‡ä»¤ï¼Œéƒ½åŒ…å«åŒä¸€ä¸ªå‰ç¼€ï¼Œé»˜è®¤ä¸º`Ctrl+b`ï¼Œè¾“å…¥å®Œå‰ç¼€è¿‡åï¼Œæ§åˆ¶å°æ¿€æ´»ï¼Œå‘½ä»¤æŒ‰é”®æ‰èƒ½ç”Ÿæ•ˆã€‚å‰é¢tmuxä¼šè¯ç›¸å…³çš„æ“ä½œä¸­ï¼Œæˆ‘ä»¬å…±ç”¨åˆ°äº†ä¸¤ä¸ªå¿«æ·é”®`Ctrl+b` + `d`ã€`Ctrl+b` + `s`ï¼Œä½†è¿™ä»…ä»…æ˜¯å†°å±±ä¸€è§’ï¼Œæ¬²çª¥tmuxåºå¤§çš„å¿«æ·é”®ä½“ç³»ï¼Œè¯·çœ‹ä¸‹è¡¨ã€‚

è¡¨ä¸€ï¼šç³»ç»ŸæŒ‡ä»¤ã€‚

|   å‰ç¼€   |   æŒ‡ä»¤   |                   æè¿°                   |
| :------: | :------: | :--------------------------------------: |
| `Ctrl+b` |   `?`    |            æ˜¾ç¤ºå¿«æ·é”®å¸®åŠ©æ–‡æ¡£            |
| `Ctrl+b` |   `d`    |               æ–­å¼€å½“å‰ä¼šè¯               |
| `Ctrl+b` |   `D`    |             é€‰æ‹©è¦æ–­å¼€çš„ä¼šè¯             |
| `Ctrl+b` | `Ctrl+z` |               æŒ‚èµ·å½“å‰ä¼šè¯               |
| `Ctrl+b` |   `r`    |             å¼ºåˆ¶é‡è½½å½“å‰ä¼šè¯             |
| `Ctrl+b` |   `s`    |        æ˜¾ç¤ºä¼šè¯åˆ—è¡¨ç”¨äºé€‰æ‹©å¹¶åˆ‡æ¢        |
| `Ctrl+b` |   `:`    | è¿›å…¥å‘½ä»¤è¡Œæ¨¡å¼ï¼Œæ­¤æ—¶å¯ç›´æ¥è¾“å…¥`ls`ç­‰å‘½ä»¤ |
| `Ctrl+b` |   `[`    |         è¿›å…¥å¤åˆ¶æ¨¡å¼ï¼ŒæŒ‰`q`é€€å‡º          |
| `Ctrl+b` |   `]`    |         ç²˜è´´å¤åˆ¶æ¨¡å¼ä¸­å¤åˆ¶çš„æ–‡æœ¬         |
| `Ctrl+b` |   `~`    |             åˆ—å‡ºæç¤ºä¿¡æ¯ç¼“å­˜             |

è¡¨äºŒï¼šçª—å£ï¼ˆwindowï¼‰æŒ‡ä»¤ã€‚

|   å‰ç¼€   | æŒ‡ä»¤  |                    æè¿°                    |
| :------: | :---: | :----------------------------------------: |
| `Ctrl+b` |  `c`  |                  æ–°å»ºçª—å£                  |
| `Ctrl+b` |  `&`  | å…³é—­å½“å‰çª—å£ï¼ˆå…³é—­å‰éœ€è¾“å…¥`y` or `n`ç¡®è®¤ï¼‰ |
| `Ctrl+b` | `0~9` |               åˆ‡æ¢åˆ°æŒ‡å®šçª—å£               |
| `Ctrl+b` |  `p`  |               åˆ‡æ¢åˆ°ä¸Šä¸€çª—å£               |
| `Ctrl+b` |  `n`  |               åˆ‡æ¢åˆ°ä¸‹ä¸€çª—å£               |
| `Ctrl+b` |  `w`  |        æ‰“å¼€çª—å£åˆ—è¡¨ï¼Œç”¨äºä¸”åˆ‡æ¢çª—å£        |
| `Ctrl+b` |  `,`  |               é‡å‘½åå½“å‰çª—å£               |
| `Ctrl+b` |  `.`  |   ä¿®æ”¹å½“å‰çª—å£ç¼–å·ï¼ˆé€‚ç”¨äºçª—å£é‡æ–°æ’åºï¼‰   |
| `Ctrl+b` |  `f`  |  å¿«é€Ÿå®šä½åˆ°çª—å£ï¼ˆè¾“å…¥å…³é”®å­—åŒ¹é…çª—å£åç§°ï¼‰  |

è¡¨ä¸‰ï¼šé¢æ¿ï¼ˆpaneï¼‰æŒ‡ä»¤ã€‚

|   å‰ç¼€   |     æŒ‡ä»¤      |                              æè¿°                              |
| :------: | :-----------: | :------------------------------------------------------------: |
| `Ctrl+b` |      `"`      |               å½“å‰é¢æ¿ä¸Šä¸‹ä¸€åˆ†ä¸ºäºŒï¼Œä¸‹ä¾§æ–°å»ºé¢æ¿               |
| `Ctrl+b` |      `%`      |               å½“å‰é¢æ¿å·¦å³ä¸€åˆ†ä¸ºäºŒï¼Œå³ä¾§æ–°å»ºé¢æ¿               |
| `Ctrl+b` |      `x`      |           å…³é—­å½“å‰é¢æ¿ï¼ˆå…³é—­å‰éœ€è¾“å…¥`y` or `n`ç¡®è®¤ï¼‰           |
| `Ctrl+b` |      `z`      |    æœ€å¤§åŒ–å½“å‰é¢æ¿ï¼Œå†é‡å¤ä¸€æ¬¡æŒ‰é”®åæ¢å¤æ­£å¸¸ï¼ˆv1.8ç‰ˆæœ¬æ–°å¢ï¼‰    |
| `Ctrl+b` |      `!`      | å°†å½“å‰é¢æ¿ç§»åŠ¨åˆ°æ–°çš„çª—å£æ‰“å¼€ï¼ˆåŸçª—å£ä¸­å­˜åœ¨ä¸¤ä¸ªåŠä»¥ä¸Šé¢æ¿æœ‰æ•ˆï¼‰ |
| `Ctrl+b` |      `;`      |                    åˆ‡æ¢åˆ°æœ€åä¸€æ¬¡ä½¿ç”¨çš„é¢æ¿                    |
| `Ctrl+b` |      `q`      |   æ˜¾ç¤ºé¢æ¿ç¼–å·ï¼Œåœ¨ç¼–å·æ¶ˆå¤±å‰è¾“å…¥å¯¹åº”çš„æ•°å­—å¯åˆ‡æ¢åˆ°ç›¸åº”çš„é¢æ¿   |
| `Ctrl+b` |      `{`      |                        å‘å‰ç½®æ¢å½“å‰é¢æ¿                        |
| `Ctrl+b` |      `}`      |                        å‘åç½®æ¢å½“å‰é¢æ¿                        |
| `Ctrl+b` |   `Ctrl+o`    |                 é¡ºæ—¶é’ˆæ—‹è½¬å½“å‰çª—å£ä¸­çš„æ‰€æœ‰é¢æ¿                 |
| `Ctrl+b` |   `æ–¹å‘é”®`    |                        ç§»åŠ¨å…‰æ ‡åˆ‡æ¢é¢æ¿                        |
| `Ctrl+b` |      `o`      |                          é€‰æ‹©ä¸‹ä¸€é¢æ¿                          |
| `Ctrl+b` |   `ç©ºæ ¼é”®`    |                   åœ¨è‡ªå¸¦çš„é¢æ¿å¸ƒå±€ä¸­å¾ªç¯åˆ‡æ¢                   |
| `Ctrl+b` | `Alt+æ–¹å‘é”®`  |               ä»¥5ä¸ªå•å…ƒæ ¼ä¸ºå•ä½è°ƒæ•´å½“å‰é¢æ¿è¾¹ç¼˜                |
| `Ctrl+b` | `Ctrl+æ–¹å‘é”®` |   ä»¥1ä¸ªå•å…ƒæ ¼ä¸ºå•ä½è°ƒæ•´å½“å‰é¢æ¿è¾¹ç¼˜ï¼ˆMacä¸‹è¢«ç³»ç»Ÿå¿«æ·é”®è¦†ç›–ï¼‰   |
| `Ctrl+b` |      `t`      |                            æ˜¾ç¤ºæ—¶é’Ÿ                            |

## ä¿å­˜Tmuxä¼šè¯

ä¿¡æ¯æ—¶ä»£ï¼Œæ•°æ®å°¤ä¸ºé‡è¦ã€‚tmuxä¿æŠ¤ç°åœºçš„èƒ½åŠ›ä¾èµ–äºtmuxè¿›ç¨‹ï¼Œå¦‚æœè¿›ç¨‹é€€å‡ºï¼Œåˆ™æ„å‘³ç€ä¼šè¯æ•°æ®çš„ä¸¢å¤±ï¼Œå› æ­¤å…³æœºé‡å¯åï¼Œtmuxä¸­çš„ä¼šè¯å°†è¢«æ¸…ç©ºï¼Œè¿™ä¸æ˜¯æˆ‘ä»¬æƒ³è¦è§åˆ°çš„ã€‚å¹¸è¿çš„æ˜¯ï¼Œç›®å‰æœ‰è¿™æ ·ä¸¤æ¬¾æ’ä»¶ï¼š`Tmux Resurrect` å’Œ `Tmux Continuum`ï¼Œå¯ä»¥æ°¸ä¹…ä¿å­˜tmuxä¼šè¯ï¼ˆå®ƒä»¬å‡é€‚ç”¨äºtmux v1.9åŠä»¥ä¸Šç‰ˆæœ¬ï¼‰ã€‚

### Tmux Resurrect

Tmux Resurrectæ— é¡»ä»»ä½•é…ç½®ï¼Œå°±èƒ½å¤Ÿå¤‡ä»½tmuxä¼šè¯ä¸­çš„å„ç§ç»†èŠ‚ï¼ŒåŒ…æ‹¬çª—å£ã€é¢æ¿çš„é¡ºåºã€å¸ƒå±€ã€å·¥ä½œç›®å½•ï¼Œè¿è¡Œç¨‹åºç­‰ç­‰æ•°æ®ã€‚å› æ­¤å®ƒèƒ½åœ¨ç³»ç»Ÿé‡å¯åå®Œå…¨åœ°æ¢å¤ä¼šè¯ã€‚ç”±äºå…¶å¹‚ç­‰çš„æ¢å¤æœºåˆ¶ï¼Œå®ƒä¸ä¼šè¯•å›¾å»æ¢å¤ä¸€ä¸ªå·²ç»å­˜åœ¨çš„çª—å£æˆ–è€…é¢æ¿ï¼Œæ‰€ä»¥ï¼Œå³ä½¿ä½ ä¸å°å¿ƒå¤šæ¢å¤äº†å‡ æ¬¡ä¼šè¯ï¼Œå®ƒä¹Ÿä¸ä¼šå‡ºç°é—®é¢˜ï¼Œè¿™æ ·ä¸»åŠ¨æ¢å¤æ—¶æˆ‘ä»¬å°±ä¸å¿…æ‹…å¿ƒæ‰‹æŠ–å¤šæŒ‰äº†ä¸€æ¬¡ã€‚å¦å¤–ï¼Œå¦‚æœä½ æ˜¯[tmuxinator](https://github.com/tmuxinator/tmuxinator)ç”¨æˆ·ï¼Œæˆ‘ä¹Ÿå»ºè®®ä½ è¿ç§»åˆ° tmux-resurrectæ’ä»¶ä¸Šæ¥ï¼Œå…·ä½“è¯·å‚è€ƒ[Migrating from `tmuxinator`](https://github.com/tmux-plugins/tmux-resurrect/blob/master/docs/migrating_from_tmuxinator.md#migrating-from-tmuxinator)ã€‚

Tmux Resurrecå®‰è£…è¿‡ç¨‹å¦‚ä¸‹æ‰€ç¤ºï¼š

```bash
cd ~/.tmux
mkdir plugins
git clone https://github.com/tmux-plugins/tmux-resurrect.git
```

å®‰è£…åéœ€åœ¨`~/.tmux.conf`ä¸­å¢åŠ ä¸€è¡Œé…ç½®ï¼š

```bash
run-shell ~/.tmux/plugins/tmux-resurrect/resurrect.tmux
```

è‡³æ­¤å®‰è£…æˆåŠŸï¼ŒæŒ‰ä¸‹`prefix + r`é‡è½½tmuxé…ç½®ã€‚

Tmux Resurrecæä¾›å¦‚ä¸‹ä¸¤ä¸ªæ“ä½œï¼š

- **ä¿å­˜**ï¼Œå¿«æ·æŒ‡ä»¤æ˜¯`prefix` + `Ctrl + s`ï¼ŒtmuxçŠ¶æ€æ åœ¨ä¿å­˜å¼€å§‹ï¼Œä¿å­˜ååˆ†åˆ«æç¤ºâ€Savingâ€¦â€ï¼Œâ€Tmux environment saved !â€ã€‚
- **æ¢å¤**ï¼Œå¿«æ·æŒ‡ä»¤æ˜¯`prefix` + `Ctrl + r`ï¼ŒtmuxçŠ¶æ€æ åœ¨æ¢å¤å¼€å§‹ï¼Œæ¢å¤ååˆ†åˆ«æç¤ºâ€Restoringâ€¦â€ï¼Œâ€Tmux restore complete !â€ã€‚

ä¿å­˜æ—¶ï¼Œtmuxä¼šè¯çš„è¯¦ç»†ä¿¡æ¯ä¼šä»¥æ–‡æœ¬æ–‡ä»¶çš„æ ¼å¼ä¿å­˜åˆ°`~/.tmux/resurrect`ç›®å½•ï¼Œæ¢å¤æ—¶åˆ™ä»æ­¤å¤„è¯»å–ï¼Œç”±äºæ•°æ®æ–‡ä»¶æ˜¯æ˜æ–‡çš„ï¼Œå› æ­¤ä½ å®Œå…¨å¯ä»¥è‡ªç”±ç®¡ç†æˆ–è€…ç¼–è¾‘è¿™äº›ä¼šè¯çŠ¶æ€æ–‡ä»¶ï¼ˆå¦‚æœå¤‡ä»½é¢‘ç¹ï¼Œè®°å¾—å®šæœŸæ¸…é™¤å†å²å¤‡ä»½ï¼‰ã€‚

**å¯é€‰çš„é…ç½®**

Tmux Resurrecæœ¬èº«æ˜¯å…é…ç½®å¼€ç®±å³ç”¨çš„ï¼Œä½†åŒæ—¶ä¹Ÿæä¾›äº†å¦‚ä¸‹é€‰é¡¹ä»¥ä¾¿ä¿®æ”¹å…¶é»˜è®¤è®¾ç½®ã€‚

```bash
set -g @resurrect-save 'S' # ä¿®æ”¹ä¿å­˜æŒ‡ä»¤ä¸ºS
set -g @resurrect-restore 'R' ä¿®æ”¹æ¢å¤æŒ‡ä»¤ä¸ºR
# ä¿®æ”¹ä¼šè¯æ•°æ®çš„ä¿æŒè·¯å¾„ï¼Œæ­¤å¤„ä¸èƒ½ä½¿ç”¨é™¤äº†$HOME, $HOSTNAME, ~ä¹‹å¤–çš„ç¯å¢ƒå˜é‡
set -g @resurrect-dir '/some/path'
```

é»˜è®¤æƒ…å†µä¸‹åªæœ‰ä¸€ä¸ªä¿å®ˆçš„åˆ—è¡¨é¡¹ï¼ˆå³`vi vim nvim emacs man less more tail top htop irssi mutt`ï¼‰å¯ä»¥æ¢å¤ï¼Œå¯¹æ­¤ [Restoring programs doc](https://github.com/tmux-plugins/tmux-resurrect/blob/master/docs/restoring_programs.md) è§£é‡Šäº†æ€ä¹ˆå»æ¢å¤é¢å¤–çš„é¡¹ç›®ã€‚

**è¿›é˜¶çš„å¤‡ä»½**

é™¤äº†åŸºç¡€å¤‡ä»½å¤–ï¼ŒTmux Resurrecè¿˜æä¾›**è¿›é˜¶çš„å¤‡ä»½åŠŸèƒ½**ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

- æ¢å¤vim å’Œ neovim ä¼šè¯
- æ¢å¤é¢æ¿å†…å®¹
- æ¢å¤shellçš„å†å²è®°å½•ï¼ˆå®éªŒæ€§åŠŸèƒ½ï¼‰

è¿›é˜¶çš„å¤‡ä»½åŠŸèƒ½é»˜è®¤ä¸å¼€å¯ï¼Œéœ€è¦ç‰¹åˆ«é…ç½®ã€‚

1ï¼‰æ¢å¤vim å’Œ neovim ä¼šè¯ï¼Œéœ€è¦å®Œæˆå¦‚ä¸‹ä¸¤æ­¥ï¼š

- é€šè¿‡vimçš„vim-obsessionæ’ä»¶ä¿å­˜vim/neovimä¼šè¯ã€‚

  ```bash
  cd ~/.vim/bundle
  git clone git://github.com/tpope/vim-obsession.git
  vim -u NONE -c "helptags vim-obsession/doc" -c q
  ```

- åœ¨`~/.tmux.conf`ä¸­å¢åŠ ä¸¤è¡Œé…ç½®ï¼š

  ```bash
  set -g @resurrect-strategy-vim 'session' # for vim
  set -g @resurrect-strategy-nvim 'session' # for neovim
  ```

2ï¼‰æ¢å¤é¢æ¿å†…å®¹ï¼Œéœ€åœ¨`~/.tmux.conf`ä¸­å¢åŠ ä¸€è¡Œé…ç½®ï¼š

```bash
set -g @resurrect-capture-pane-contents 'on' # å¼€å¯æ¢å¤é¢æ¿å†…å®¹åŠŸèƒ½
```

ç›®å‰ä½¿ç”¨è¯¥åŠŸèƒ½æ—¶ï¼Œè¯·ç¡®ä¿tmuxçš„`default-command`æ²¡æœ‰åŒ…å«`&&` æˆ–è€…`||`æ“ä½œç¬¦ï¼Œå¦åˆ™å°†å¯¼è‡´[bug](https://github.com/tmux-plugins/tmux-resurrect/issues/98)ã€‚ï¼ˆæŸ¥çœ‹`default-command`çš„å€¼ï¼Œè¯·ä½¿ç”¨å‘½ä»¤`tmux show -g default-command`ã€‚ï¼‰

3ï¼‰æ¢å¤shellçš„å†å²è®°å½•ï¼Œéœ€åœ¨`~/.tmux.conf`ä¸­å¢åŠ ä¸€è¡Œé…ç½®ï¼š

```bash
set -g @resurrect-save-shell-history 'on'
```

ç”±äºæŠ€æœ¯çš„é™åˆ¶ï¼Œä¿å­˜æ—¶ï¼Œåªæœ‰æ— å‰å°ä»»åŠ¡è¿è¡Œçš„é¢æ¿ï¼Œå®ƒçš„shellå†å²è®°å½•æ‰èƒ½è¢«ä¿å­˜ã€‚

### Tmux Continuum

å¯èƒ½ä½ å«Œæ‰‹åŠ¨ä¿å­˜å’Œæ¢å¤å¤ªè¿‡éº»çƒ¦ï¼Œåˆ«æ‹…å¿ƒï¼Œè¿™ä¸æ˜¯é—®é¢˜ã€‚Tmux Continuum åœ¨ Tmux Resurrecçš„åŸºç¡€ä¸Šæ›´è¿›ä¸€æ­¥ï¼Œç°åœ¨ä¿å­˜å’Œæ¢å¤å…¨éƒ¨è‡ªåŠ¨åŒ–äº†ï¼Œå¦‚ä½ æ‰€æ„¿ï¼Œå¯ä»¥æ— æ„Ÿä½¿ç”¨tmuxï¼Œä¸ç”¨å†æ‹…å¿ƒå¤‡ä»½é—®é¢˜ã€‚

Tmux Continuumå®‰è£…è¿‡ç¨‹å¦‚ä¸‹æ‰€ç¤ºï¼ˆå®ƒä¾èµ–Tmux Resurrectï¼Œè¯·ä¿è¯å·²å®‰è£…Tmux Resurrectæ’ä»¶ï¼‰ï¼š

```bash
cd ~/.tmux/plugins
git clone https://github.com/tmux-plugins/tmux-continuum.git
```

å®‰è£…åéœ€åœ¨`~/.tmux.conf`ä¸­å¢åŠ ä¸€è¡Œé…ç½®ï¼š

```bash
run-shell ~/.tmux/plugins/tmux-continuum/continuum.tmux
```

Tmux Continuumé»˜è®¤æ¯éš”15minså¤‡ä»½ä¸€æ¬¡ï¼Œæˆ‘è®¾ç½®çš„æ˜¯ä¸€å¤©ä¸€æ¬¡ï¼š

```bash
set -g @continuum-save-interval '1440'
```

**å…³é—­è‡ªåŠ¨å¤‡ä»½**ï¼Œåªéœ€è®¾ç½®æ—¶é—´é—´éš”ä¸º `0` å³å¯ï¼š

```bash
set -g @continuum-save-interval '0'
```

æƒ³è¦åœ¨**tmuxå¯åŠ¨æ—¶å°±æ¢å¤æœ€åä¸€æ¬¡ä¿å­˜çš„ä¼šè¯ç¯å¢ƒ**ï¼Œéœ€å¢åŠ å¦‚ä¸‹é…ç½®ï¼š

```bash
set -g @continuum-restore 'on' # å¯ç”¨è‡ªåŠ¨æ¢å¤
```

å¦‚æœä¸æƒ³è¦å¯åŠ¨æ—¶è‡ªåŠ¨æ¢å¤çš„åŠŸèƒ½äº†ï¼Œç›´æ¥ç§»é™¤ä¸Šé¢è¿™è¡Œå°±è¡Œã€‚æƒ³è¦ç»å¯¹ç¡®å®šè‡ªåŠ¨æ¢å¤ä¸ä¼šå‘ç”Ÿï¼Œå°±åœ¨ç”¨æˆ·æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª`tmux_no_auto_restore`ç©ºæ–‡ä»¶ï¼ˆåˆ›å»ºå‘½ä»¤ï¼š`touch ~/tmux_no_auto_restore`ï¼‰ï¼Œè¯¥æ–‡ä»¶å­˜åœ¨æ—¶ï¼Œè‡ªåŠ¨æ¢å¤å°†ä¸è§¦å‘ã€‚

å¯¹äºtmuxé«˜çº§ç”¨æˆ·ï¼ˆå¯èƒ½å°±æ˜¯ä½ ï¼‰è€Œè¨€ï¼ŒåŒæ—¶è¿è¡Œå¤šä¸ªtmuxæœåŠ¡å™¨ä¹Ÿæ˜¯æœ‰å¯èƒ½çš„ã€‚ä½ å¯èƒ½å¹¶ä¸å¸Œæœ›åé¢å¯ç”¨çš„å‡ ä¸ªtmuxæœåŠ¡å™¨è‡ªåŠ¨æ¢å¤æˆ–è€…è‡ªåŠ¨ä¿å­˜ä¼šè¯ã€‚å› æ­¤Tmux Continuumä¼šä¼˜å…ˆåœ¨ç¬¬ä¸€ä¸ªå¯ç”¨çš„tmuxæœåŠ¡å™¨ä¸­ç”Ÿæ•ˆï¼Œéšåå¯ç”¨çš„tmuxæœåŠ¡å™¨ä¸å†äº«å—è‡ªåŠ¨æ¢å¤æˆ–è‡ªåŠ¨ä¿å­˜ä¼šè¯çš„å¾…é‡ã€‚

å®é™…ä¸Šï¼Œä¸ç®¡Tmux ContinuumåŠŸèƒ½æœ‰æ²¡æœ‰å¯ç”¨ï¼Œæˆ–è€…å¤šä¹…ä¿å­˜ä¸€æ¬¡ï¼Œæˆ‘ä»¬éƒ½æœ‰åŠæ³•ä»çŠ¶æ€æ çŸ¥æ™“ã€‚Tmux Continuumæä¾›äº†ä¸€ä¸ªæŸ¥çœ‹è¿è¡ŒçŠ¶æ€çš„æ’å€¼`#{continuum_status}`ï¼Œå®ƒæ”¯æŒ`status-right` å’Œ `status-left`ä¸¤ç§çŠ¶æ€æ è®¾ç½®ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```bash
set -g status-right 'Continuum status: #{continuum_status}'
```

tmuxè¿è¡Œæ—¶ï¼Œ`#{continuum_status}` å°†æ˜¾ç¤ºä¿å­˜çš„æ—¶é—´é—´éš”ï¼ˆå•ä½ä¸ºåˆ†é’Ÿï¼‰ï¼Œæ­¤æ—¶çŠ¶æ€æ ä¼šæ˜¾ç¤ºï¼š

```bash
Continuum status: 1440
```

å¦‚æœå…¶è‡ªåŠ¨ä¿å­˜åŠŸèƒ½å…³é—­äº†ï¼Œé‚£ä¹ˆçŠ¶æ€æ ä¼šæ˜¾ç¤ºï¼š

```bash
Continuum status: off
```

å€ŸåŠ©Tmux Continuumæ’ä»¶ï¼ŒMacé‡å¯æ—¶ï¼Œæˆ‘ä»¬ç”šè‡³å¯ä»¥é€‰æ‹©åœ¨`Terminal` æˆ–è€… `iTerm2` ä¸­è‡ªåŠ¨å…¨å±å¯ç”¨tmuxã€‚

ä¸ºæ­¤ï¼Œéœ€åœ¨`~/.tmux.conf`ä¸­å¢åŠ ä¸€è¡Œé…ç½®ï¼š

```bash
set -g @continuum-boot 'on'
```

Macä¸‹ï¼Œè‡ªåŠ¨å¯ç”¨tmuxè¿˜æ”¯æŒå¦‚ä¸‹é€‰é¡¹ï¼š

- `set -g @continuum-boot-options 'fullscreen'` ï¼Œ`Terminal`è‡ªåŠ¨å…¨å±ï¼Œtmuxå‘½ä»¤åœ¨`Terminal`ä¸­æ‰§è¡Œã€‚
- `set -g @continuum-boot-options 'iterm'` ï¼Œ `iTerm2` æ›¿æ¢ `Terminal` åº”ç”¨ï¼Œtmuxå‘½ä»¤åœ¨`iTerm2`ä¸­æ‰§è¡Œã€‚
- `set -g @continuum-boot-options 'iterm,fullscreen'`ï¼Œ`iTerm2`è‡ªåŠ¨å…¨å±ï¼Œtmuxå‘½ä»¤åœ¨`iTerm2`ä¸­æ‰§è¡Œã€‚

Linuxä¸­åˆ™æ²¡æœ‰è¿™äº›é€‰é¡¹ï¼Œå®ƒåªèƒ½è®¾ç½®ä¸ºè‡ªåŠ¨å¯ç”¨tmuxæœåŠ¡å™¨ã€‚

### Tpm

ä»¥ä¸Šï¼Œæˆ‘ä»¬ç›´æ¥å®‰è£…äº†tmuxæ’ä»¶ã€‚è¿™æ²¡æœ‰é—®é¢˜ï¼Œå¯å½“æ’ä»¶è¶Šæ¥è¶Šå¤šæ—¶ï¼Œæˆ‘ä»¬å°±ä¼šéœ€è¦ç»Ÿä¸€çš„æ’ä»¶ç®¡ç†å™¨ã€‚å› æ­¤å®˜æ–¹æä¾›äº†tpmï¼ˆæ”¯æŒtmux v1.9åŠä»¥ä¸Šç‰ˆæœ¬ï¼‰ã€‚

tpmå®‰è£…è¿‡ç¨‹å¦‚ä¸‹æ‰€ç¤ºï¼š

```bash
cd ~/.tmux/plugins
git clone https://github.com/tmux-plugins/tpm
```

å®‰è£…åéœ€åœ¨`~/.tmux.conf`ä¸­å¢åŠ å¦‚ä¸‹é…ç½®ï¼š

```bash
# é»˜è®¤éœ€è¦å¼•å…¥çš„æ’ä»¶
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'

# å¼•å…¥å…¶ä»–æ’ä»¶çš„ç¤ºä¾‹
# set -g @plugin 'github_username/plugin_name' # æ ¼å¼ï¼šgithubç”¨æˆ·å/æ’ä»¶å
# set -g @plugin 'git@github.com/user/plugin' # æ ¼å¼ï¼šgit@githubæ’ä»¶åœ°å€

# åˆå§‹åŒ–tmuxæ’ä»¶ç®¡ç†å™¨(ä¿è¯è¿™è¡Œåœ¨~/.tmux.confçš„éå¸¸é åçš„ä½ç½®)
run '~/.tmux/plugins/tpm/tpm'
```

ç„¶åæŒ‰ä¸‹`prefix + r`é‡è½½tmuxé…ç½®ï¼Œä½¿å¾—tpmç”Ÿæ•ˆã€‚

åŸºäºtpmæ’ä»¶ç®¡ç†å™¨ï¼Œ**å®‰è£…æ’ä»¶**ä»…éœ€å¦‚ä¸‹ä¸¤æ­¥ï¼š

1. åœ¨`~/.tmux.conf`ä¸­å¢åŠ æ–°çš„æ’ä»¶ï¼Œå¦‚`set -g @plugin '...'`ã€‚
2. æŒ‰ä¸‹`prefix` + `I`é”®ä¸‹è½½æ’ä»¶ï¼Œå¹¶åˆ·æ–°tmuxç¯å¢ƒã€‚

**æ›´æ–°æ’ä»¶**ï¼Œè¯·æŒ‰ä¸‹`prefix` + `U` é”®ï¼Œé€‰æ‹©å¾…æ›´æ–°çš„æ’ä»¶åï¼Œå›è½¦ç¡®è®¤å¹¶æ›´æ–°ã€‚

**å¸è½½æ’ä»¶**ï¼Œéœ€å¦‚ä¸‹ä¸¤æ­¥ï¼š

1. åœ¨`~/.tmux.conf`ä¸­ç§»é™¤æ’ä»¶æ‰€åœ¨è¡Œã€‚
2. æŒ‰ä¸‹`prefix` + `alt` + `u` ç§»é™¤æ’ä»¶ã€‚

## ä¼šè¯å…±äº«

### ç»“å¯¹ç¼–ç¨‹

tmuxå¤šä¼šè¯è¿æ¥å®æ—¶åŒæ­¥çš„åŠŸèƒ½ï¼Œä½¿å¾—ç»“å¯¹ç¼–ç¨‹æˆä¸ºäº†å¯èƒ½ï¼Œè¿™ä¹Ÿæ˜¯å¼€å‘è€…æœ€å–œæ¬¢çš„åŠŸèƒ½ä¹‹ä¸€ã€‚ç°åœ¨å°±å·®ä¸€æ­¥äº†ï¼Œå°±æ˜¯å€ŸåŠ©tmateæŠŠtmuxä¼šè¯åˆ†äº«å‡ºå»ã€‚

tmateæ˜¯tmuxçš„ç®¡ç†å·¥å…·ï¼Œå®ƒå¯ä»¥è½»æ¾çš„åˆ›å»ºtmuxä¼šè¯ï¼Œå¹¶ä¸”è‡ªåŠ¨ç”Ÿæˆsshé“¾æ¥ã€‚

å®‰è£…tmate

```bash
brew install tmate
```

ä½¿ç”¨tmateæ–°å»ºä¸€ä¸ªtmuxä¼šè¯

```bash
tmate
```

æ­¤æ—¶å±å¹•ä¸‹æ–¹ä¼šæ˜¾ç¤ºssh urlï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š![](http://louiszhai.github.io/docImages/tmux07.png)

æŸ¥çœ‹tmateç”Ÿæˆçš„sshé“¾æ¥

```bash
tmate show-messages
```

ç”Ÿæˆçš„ssh urlå¦‚ä¸‹æ‰€ç¤ºï¼Œå…¶ä¸­ä¸€ä¸ªä¸ºåªè¯»ï¼Œå¦ä¸€ä¸ªå¯ç¼–è¾‘ã€‚

![](http://louiszhai.github.io/docImages/tmux08.png)

### å…±äº«è´¦å·&ç»„ä¼šè¯

ä½¿ç”¨tmateè¿œç¨‹å…±äº«tmuxä¼šè¯ï¼Œå—åˆ¶äºå¤šæ–¹çš„ç½‘ç»œè´¨é‡ï¼Œå¿…ç„¶ä¼šå­˜åœ¨äº›è®¸å»¶è¿Ÿã€‚å¦‚æœå…±äº«ä¼šè¯çš„å¤šæ–¹æ‹¥æœ‰åŒä¸€ä¸ªè¿œç¨‹æœåŠ¡å™¨çš„è´¦å·ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ä½¿ç”¨`ç»„ä¼šè¯`è§£å†³è¿™ä¸ªé—®é¢˜ã€‚

å…ˆåœ¨è¿œç¨‹æœåŠ¡å™¨ä¸Šæ–°å»ºä¸€ä¸ªå…¬å…±ä¼šè¯ï¼Œå‘½åä¸º`groupSession`ã€‚

```bash
tmux new -s groupSession
```

å…¶ä»–ç”¨æˆ·ä¸å»ç›´æ¥è¿æ¥è¿™ä¸ªä¼šè¯ï¼Œè€Œæ˜¯é€šè¿‡åˆ›å»ºä¸€ä¸ªæ–°çš„ä¼šè¯æ¥åŠ å…¥ä¸Šé¢çš„å…¬å…±ä¼šè¯`groupSession`ã€‚

```bash
tmux new -t groupSession -s otherSession
```

æ­¤æ—¶ä¸¤ä¸ªç”¨æˆ·éƒ½å¯ä»¥åœ¨åŒä¸€ä¸ªä¼šè¯é‡Œæ“ä½œï¼Œå°±ä¼šå¥½åƒç¬¬äºŒä¸ªç”¨æˆ·è¿æ¥åˆ°äº†`groupSession`çš„ä¼šè¯ä¸€æ ·ã€‚æ­¤æ—¶ä¸¤ä¸ªç”¨æˆ·éƒ½å¯ä»¥åˆ›å»ºæ–°å»ºçš„çª—å£ï¼Œæ–°çª—å£çš„å†…å®¹ä¾ç„¶ä¼šå®æ—¶åŒæ­¥ï¼Œä½†æ˜¯å…¶ä¸­ä¸€ä¸ªç”¨æˆ·åˆ‡æ¢åˆ°å…¶å®ƒçª—å£ï¼Œå¯¹å¦å¤–ä¸€ä¸ªç”¨æˆ·æ²¡æœ‰ä»»ä½•å½±å“ï¼Œå› æ­¤åœ¨è¿™ä¸ªå…±äº«çš„ç»„ä¼šè¯ä¸­ï¼Œç”¨æˆ·å„è‡ªçš„æ“ä½œå¯ä»¥é€šè¿‡æ–°å»ºçª—å£æ¥æ‰§è¡Œã€‚å³ä½¿ç¬¬äºŒä¸ªç”¨æˆ·å…³é—­`otherSession`ä¼šè¯ï¼Œå…±äº«ä¼šè¯`groupSession`ä¾ç„¶å­˜åœ¨ã€‚

ç»„ä¼šè¯åœ¨å…±äº«çš„åŒæ—¶ï¼Œåˆä¿ç•™äº†ç›¸å¯¹çš„ç‹¬ç«‹ï¼Œéå¸¸é€‚åˆç»“å¯¹ç¼–ç¨‹åœºæ™¯ï¼Œå®ƒæ˜¯ç»“å¯¹ç¼–ç¨‹æœ€ç®€å•çš„æ–¹å¼ï¼Œå¦‚æœè´¦å·ä¸èƒ½å…±äº«ï¼Œæˆ‘ä»¬å°±è¦ä½¿ç”¨ä¸‹é¢çš„æ–¹æ¡ˆäº†ã€‚

### ç‹¬ç«‹è´¦å·&Socketå…±äº«ä¼šè¯

å¼€å§‹ä¹‹å‰æˆ‘ä»¬éœ€è¦ç¡®ä¿ç”¨æˆ·å¯¹è¿œç¨‹æœåŠ¡å™¨ä¸ŠåŒä¸€ä¸ªç›®å½•æ‹¥æœ‰ç›¸åŒçš„è¯»å†™æƒé™ï¼Œå‡è®¾è¿™ä¸ªç›®å½•ä¸º`/var/tmux/`ã€‚

ä½¿ç”¨new-sessionï¼ˆç®€å†™newï¼‰åˆ›å»ºä¼šè¯æ—¶ï¼Œä½¿ç”¨çš„æ˜¯é»˜è®¤çš„socketä½ç½®ï¼Œé»˜è®¤socketæ— æ³•æ“ä½œï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªæŒ‡å®šsocketæ–‡ä»¶çš„ä¼šè¯ã€‚

```bash
tmux -S /var/tmux/sharefile
```

å¦ä¸€ä¸ªç”¨æˆ·è¿›å…¥æ—¶ï¼Œéœ€è¦æŒ‡å®šsocketæ–‡ä»¶åŠ å…¥ä¼šè¯ã€‚

```bash
tmux -S /var/tmux/sharefile attach
```

è¿™æ ·ï¼Œä¸¤ä¸ªä¸åŒçš„ç”¨æˆ·å°±å¯ä»¥å…±äº«åŒä¸€ä¸ªä¼šè¯äº†ã€‚

é€šå¸¸æƒ…å†µä¸‹ï¼Œä¸åŒçš„ç”¨æˆ·ä½¿ç”¨ä¸åŒçš„é…ç½®æ–‡ä»¶æ¥åˆ›å»ºä¼šè¯ï¼Œä½†æ˜¯ï¼Œä½¿ç”¨æŒ‡å®šsocketæ–‡ä»¶åˆ›å»ºçš„tmuxä¼šè¯ï¼Œä¼šè¯åŠ è½½çš„æ˜¯ç¬¬ä¸€ä¸ªåˆ›å»ºä¼šè¯çš„ç”¨æˆ·çš„`~/.tmux.conf`é…ç½®æ–‡ä»¶ï¼ŒéšååŠ å…¥ä¼šè¯çš„å…¶ä»–ç”¨æˆ·ï¼Œä¾ç„¶ä½¿ç”¨åŒä¸€ä»½é…ç½®æ–‡ä»¶ã€‚



# é…ç½®

## éœ€è¦çš„æ—¶å€™æŠŠ iterm2 å‘¼å‡ºæ¥,ä¸éœ€è¦çš„æ—¶å€™è‡ªåŠ¨éšè—

`iTerm2 > Preferences > Keys`ï¼Œå·¦ä¾§ `Hotkey` é€‰é¡¹ å‹¾é€‰ `Show/hide iTerm2 with a system-wide hotkey`ï¼Œè®¾ç½®å¿«æ·é”®

## å¤ç”¨ä¸Šä¸ªä¼šè¯çš„ç›®å½•

`iTerm2 > Preferences > Profiles > Working Directory > Reuse previous sessionâ€™s directory`


## åˆ«å

```Bash
alias zsh-config='vim ~/.zshrc'
```



## ç»ˆç«¯ä¸‹å‘½ä»¤è¡Œä¸‹ç”¨ Sublimeã€vscodeã€atom æ‰“å¼€æ–‡ä»¶å¤¹æˆ–ç›®å½•

### vscode å‘½ä»¤è¡Œè°ƒç”¨

VS Code æä¾›äº†ä¸€ä¸ª `code` å‘½ä»¤ï¼Œç”¨æ¥åœ¨ shell ç¯å¢ƒä¸‹è°ƒç”¨ç¼–è¾‘å™¨ã€‚ä½¿ç”¨å¿«æ·é”® `â‡§âŒ˜P`ï¼ˆæˆ– F1ï¼‰ å”¤èµ·å‘½ä»¤é¢æ¿ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤å³å¯å®Œæˆå®‰è£…ã€‚

![shell command](https://image.xuebin.me/shell_command.png)

- code å‘½ä»¤åå¯æ¥å¤šä¸ªè·¯å¾„æˆ–æ–‡ä»¶ï¼š

  ```shell
  code pro6.js pro6.scss ../
  ```

- æ–‡ä»¶å¯¹æ¯”ï¼š

  ```shell
  code -d new-file.js old-file.js
  ```

- æ‰“å¼€æ–‡ä»¶å¹¶è·³è‡³æŒ‡å®šè¡Œï¼š

  ```shell
  code -g source/cn/static/global/tracker.js:15
  ```

> æ›´å¤š code å‘½ä»¤è¡Œä½¿ç”¨æ–¹æ³•ï¼Œå‚è§ã€Š[Additional Command line arguments](https://code.visualstudio.com/docs/editor/codebasics#_additional-command-line-arguments)ã€‹ã€‚

### æ‰‹åŠ¨æ·»åŠ 

1.  æ‰“å¼€ç»ˆç«¯ï¼Œéšä¾¿ä¸€ä¸ªç›®å½•è¾“å…¥

    ```shell
    cd
    ```

2.  æ£€æŸ¥æ˜¯å¦æœ‰`.zshrc`æ–‡ä»¶

    ```shell
    ls -al
    ```

    ![.zshrcæ–‡ä»¶](https://image.xuebin.me/zshrc.png)

1)  æ·»åŠ å¯åŠ¨å‘½ä»¤

    ```shell
    sudo nano .zshrc
    ```
    
    åœ¨æ–‡ä»¶æœ«å°¾åŠ ä¸Šåˆ«åï¼š
    
    ```shell
    alias atom='/Applications/Atom.app/Contents/MacOS/Atom'
    alias subl='/Applications/SublimeText.app/Contents/SharedSupport/bin/subl'
    alias code='/Applications/Visual\ Studio\ Code.app/Contents/Resources/app/bin/code'
    ```
    
    `âŒ˜ + X` å†è¾“å…¥ `y` ä¿å­˜ï¼Œé‡å¯ iterm2ã€‚

> æŸ¥æ‰¾ APP è·¯å¾„ï¼š
>
> ![finder-åº”ç”¨ç¨‹åº-å³é”®â€œæ˜¾ç¤ºåŒ…å†…å®¹â€](https://image.xuebin.me/app%E6%98%BE%E7%A4%BA%E5%8C%85%E5%86%85%E5%AE%B9.png)



## vimé…è‰²

ç»ˆç«¯è¾“å…¥`vim ~/.vimrc`ï¼Œè®¾ç½®å†…å®¹å¦‚ä¸‹ï¼Œ

```shell
syntax on
set number
set ruler
```



# [Spaceship ZSH](https://denysdovhan.com/spaceship-prompt/) 

# [powerlevel9k][powerlevel9k]ä¸»é¢˜

![](https://camo.githubusercontent.com/31da002de611cfef95f6daaa8b1baedef4079703/687474703a2f2f6268696c6275726e2e6f72672f636f6e74656e742f696d616765732f323031352f30312f706c396b2d696d70726f7665642e706e67)



## é…ç½®é¡¹

[Stylizing Your Prompt](https://github.com/bhilburn/powerlevel9k/wiki/Stylizing-Your-Prompt)



## å…¶ä»–äººçš„é…ç½®

[Show Off Your Config](https://github.com/bhilburn/powerlevel9k/wiki/Show-Off-Your-Config)



## æˆ‘çš„é…ç½®

```Bash
# =======================================================================================================================================
# ä»¥ä¸‹æ˜¯ .zshrc é…ç½®ä¿¡æ¯
# =======================================================================================================================================

# If you come from bash you might have to change your $PATH.
# export PATH=$HOME/bin:/usr/local/bin:$PATH

# Path to your oh-my-zsh installation.
export ZSH=/Users/leo/.oh-my-zsh
export DEFAULT_USER="Leo"
export LPASS_AGENT_TIMEOUT=0
export TERM="xterm-256color"

# # ä»£ç†
# export https_proxy=http://127.0.0.1:7890
# export http_proxy=http://127.0.0.1:7890
# export all_proxy=socks5://127.0.0.1:7891

# Set name of the theme to load. Optionally, if you set this to "random"
# it'll load a random theme each time that oh-my-zsh is loaded.
# See https://github.com/robbyrussell/oh-my-zsh/wiki/Themes
# ä¸»é¢˜
# ZSH_THEME="robbyrussell"
# ZSH_THEME="agnoster"
# ZSH_THEME="powerline"

# =======================================================================================================================================
# powerlevel9k ä¸»é¢˜
# https://github.com/bhilburn/powerlevel9k
# https://github.com/bhilburn/powerlevel9k/wiki/Show-Off-Your-Config#v1rguls-configuration
# =======================================================================================================================================
ZSH_THEME="powerlevel9k/powerlevel9k"
# è°ƒæ•´å­—ä½“æ¨¡å¼
POWERLEVEL9K_MODE='nerdfont-complete'
# å·¦ä¾§æç¤ºç¬¦æ˜¾ç¤ºå†…å®¹:ç³»ç»Ÿæ—¶é—´(time)ã€rootæƒé™æŒ‡ç¤º(root_indicator)ã€username and host(context)ã€å½“å‰å·¥ä½œç›®å½•(dir)ã€ç›®å½•å†™å…¥æƒé™(dir_writable)ã€gitä¿¡æ¯(vcs)
POWERLEVEL9K_LEFT_PROMPT_ELEMENTS=(time context root_indicator dir dir_writable vcs)
# å³ä¾§æç¤ºç¬¦æ˜¾ç¤ºå†…å®¹:ä¸Šä¸€å‘½ä»¤æ‰§è¡ŒçŠ¶æ€(status)ã€åå°ä»»åŠ¡ä¸ªæ•°(background_jobs)ã€ä¸Šä¸€å‘½ä»¤æ‰§è¡Œæ—¶é—´(command_execution_time)ã€å¯ç”¨RAM(ram)ã€ç³»ç»Ÿçš„è´Ÿè½½å‡å€¼(load)
POWERLEVEL9K_RIGHT_PROMPT_ELEMENTS=(status background_jobs command_execution_time ram load)
# contextä¹Ÿå°±æ˜¯ä½ çš„ç”¨æˆ·åä»¥åŠç»ˆç«¯åç§°ï¼Œé»˜è®¤æ˜¯ `%n@%m`ã€‚ 
POWERLEVEL9K_CONTEXT_TEMPLATE="Leo"
# ä½äºè¿™ä¸ªå€¼çš„å‘½ä»¤æ‰§è¡Œæ—¶é—´ä¸æ˜¾ç¤ºï¼Œ0 ä¹Ÿå°±æ˜¯å‘½ä»¤æ‰§è¡Œæ—¶é—´å¤šé•¿éƒ½æ˜¾ç¤º
POWERLEVEL9K_COMMAND_EXECUTION_TIME_THRESHOLD="1"
# æ—¶é—´æ ¼å¼åŒ–
POWERLEVEL9K_TIME_FORMAT="%D{%H:%M}"
# æ˜¾ç¤ºåˆ†æ”¯ç‰ˆæœ¬
POWERLEVEL9K_SHOW_CHANGESET=true
# =======================================================================================================================================
# powerlevel9k-é…ç½®ç»“æŸ
# =======================================================================================================================================


# Uncomment the following line to use case-sensitive completion.
# å–æ¶ˆæ³¨é‡Šä»¥ä¸‹è¡Œä½¿ç”¨åŒºåˆ†å¤§å°å†™çš„å®Œæˆã€‚
# CASE_SENSITIVE="true"

# Uncomment the following line to use hyphen-insensitive completion. Case
# sensitive completion must be off. _ and - will be interchangeable.
# å–æ¶ˆæ³¨é‡Šä¸‹é¢çš„è¡Œä»¥ä½¿ç”¨è¿å­—ç¬¦ä¸æ•æ„Ÿçš„å®Œæˆã€‚åŒºåˆ†å¤§å°å†™çš„å®Œæˆå¿…é¡»å…³é—­ã€‚_ å’Œ-å°†æ˜¯å¯äº’æ¢çš„ã€‚
# HYPHEN_INSENSITIVE="true"

# Uncomment the following line to disable bi-weekly auto-update checks.
# å–æ¶ˆæ³¨é‡Šä»¥ä¸‹è¡Œç¦ç”¨æ¯ä¸¤å‘¨æ£€æŸ¥è‡ªåŠ¨å‡çº§ã€‚
# DISABLE_AUTO_UPDATE="true"

# Uncomment the following line to change how often to auto-update (in days).
# å–æ¶ˆæ³¨é‡Šä»¥ä¸‹è¡Œæ¥æ”¹å˜é¢‘ç‡è‡ªåŠ¨æ›´æ–°(å¤©)ã€‚
# export UPDATE_ZSH_DAYS=13

# Uncomment the following line to disable colors in ls.
# å–æ¶ˆæ³¨é‡Šä»¥ä¸‹è¡Œlsç¦ç”¨çš„é¢œè‰²ã€‚
# DISABLE_LS_COLORS="true"

# Uncomment the following line to disable auto-setting terminal title.
# å–æ¶ˆæ³¨é‡Šä»¥ä¸‹è¡Œç¦ç”¨è‡ªåŠ¨å¯¹ç„¦åŠŸèƒ½ç»ˆç«¯æ ‡é¢˜ã€‚
# DISABLE_AUTO_TITLE="true"

# Uncomment the following line to enable command auto-correction.
# å–æ¶ˆæ³¨é‡Šä»¥ä¸‹è¡Œæ¥å¯ç”¨å‘½ä»¤è‡ªåŠ¨æ ¡å¯¹åŠŸèƒ½ã€‚
# ENABLE_CORRECTION="true"

# Uncomment the following line to display red dots whilst waiting for completion.
# å–æ¶ˆæ³¨é‡Šä»¥ä¸‹è¡Œæ¥æ˜¾ç¤ºçº¢ç‚¹åŒæ—¶ç­‰å¾…å®Œæˆã€‚
COMPLETION_WAITING_DOTS="true"

# Uncomment the following line if you want to disable marking untracked files
# under VCS as dirty. This makes repository status check for large repositories
# much, much faster.
# å¦‚æœè¦ç¦ç”¨åœ¨ VCS ä¸‹æ ‡è®°æœªè·Ÿè¸ªæ–‡ä»¶ä¸ºè„, è¯·å–æ¶ˆæ³¨é‡Šä»¥ä¸‹è¡Œã€‚è¿™ä½¿å¾—å­˜å‚¨åº“çŠ¶æ€å¯¹å¤§å‹å­˜å‚¨åº“çš„æ£€æŸ¥é€Ÿåº¦è¦å¿«å¾—å¤šã€‚
# DISABLE_UNTRACKED_FILES_DIRTY="true"

# Uncomment the following line if you want to change the command execution time
# stamp shown in the history command output.
# The optional three formats: "mm/dd/yyyy"|"dd.mm.yyyy"|"yyyy-mm-dd"
# å¦‚æœè¦æ›´æ”¹å†å²å‘½ä»¤è¾“å‡ºä¸­æ˜¾ç¤ºçš„å‘½ä»¤æ‰§è¡Œæ—¶é—´æˆ³, è¯·å–æ¶ˆæ³¨é‡Šä»¥ä¸‹è¡Œã€‚å¯é€‰çš„ä¸‰æ ¼å¼:  "mm/dd/æ—¥/æ—¥ " |  "dd.mm.yyyy " |  "æ—¥"-mm-dd  "
# HIST_STAMPS="mm/dd/yyyy"

# Would you like to use another custom folder than $ZSH/custom?
# æ˜¯å¦è¦ä½¿ç”¨å…¶ä»–è‡ªå®šä¹‰æ–‡ä»¶å¤¹è€Œä¸æ˜¯ $ZSH/è‡ªå®šä¹‰ï¼Ÿ
# ZSH_CUSTOM=/path/to/new-custom-folder

# Which plugins would you like to load? (plugins can be found in ~/.oh-my-zsh/plugins/*)
# Custom plugins may be added to ~/.oh-my-zsh/custom/plugins/
# Example format: plugins=(rails git textmate ruby lighthouse)
# Add wisely, as too many plugins slow down shell startup.
plugins=(zsh-syntax-highlighting zsh-autosuggestions z brew node npm osx git git-extras)

source $ZSH/oh-my-zsh.sh

source $HOME/.bash_profile # ç¯å¢ƒå˜é‡

# User configuration

# export MANPATH="/usr/local/man:$MANPATH"

# You may need to manually set your language environment
# export LANG=en_US.UTF-8

# Preferred editor for local and remote sessions
# if [[ -n $SSH_CONNECTION ]]; then
#   export EDITOR='vim'
# else
#   export EDITOR='mvim'
# fi

# Compilation flags
# export ARCHFLAGS="-arch x86_64"

# ssh
# export SSH_KEY_PATH="~/.ssh/rsa_id"

# Set personal aliases, overriding those provided by oh-my-zsh libs,
# plugins, and themes. Aliases can be placed here, though oh-my-zsh
# users are encouraged to define aliases within the ZSH_CUSTOM folder.
# For a full list of active aliases, run `alias`.
#
# Example aliases
# alias zshconfig="mate ~/.zshrc"
# alias ohmyzsh="mate ~/.oh-my-zsh"

# =======================================================================================================================================
# åˆ«å
# =======================================================================================================================================
alias code='/Applications/Visual\ Studio\ Code.app/Contents/Resources/app/bin/code'
alias zsh-config='code ~/.zshrc'
alias zsh-badges='code ~/.badges'
alias nginx-config='code /usr/local/etc/nginx/nginx.conf'
alias nginx-services='cd /usr/local/etc/nginx/servers/ && ls'
alias nginx-log='cd /usr/local/Cellar/nginx/ && ls'
alias npm-registry-zpfe='npm config set registry http://npm.zhaopin.com'
alias npm-registry-npm='npm config set registry https://registry.npmjs.org/'
alias glog="git log --graph --pretty=format:'%Cred%h%Creset - %C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)<%an>%Creset' --abbrev-commit --date=relative"

# =======================================================================================================================================
# åˆ«å-é…ç½®ç»“æŸ
# =======================================================================================================================================


# =======================================================================================================================================
# badgeå¾½æ ‡
# å¾½æ ‡é…ç½®æ–‡ä»¶ï¼š~/.badges
#   /Users/leo/OneDrive                                                ğŸ“¦
#   /Users/leo                                                         ğŸ 
# Profiles Badge Text
#   \(user.badge) \n \(session.name) \n \(session.path) \n \(session.username)@\(session.hostname)
# =======================================================================================================================================
function iterm2_print_user_vars() {
  iterm2_set_user_var badge $(dir_badges)
}
function dir_badges() {
    while read directory badge || [[ -n "$directory" ]]
    do
        if [[ "$PWD" == $directory* ]]; then
            echo $badge
            break
        fi
    done < ~/.badges
}
# =======================================================================================================================================
# badgeå¾½æ ‡-é…ç½®ç»“æŸ
# =======================================================================================================================================

test -e "${HOME}/.iterm2_shell_integration.zsh" && source "${HOME}/.iterm2_shell_integration.zsh"

# =======================================================================================================================================
# Auto add env parameter $PROMPT_COMMAND when use non-Linux tty login by ssh.
# =======================================================================================================================================
# export PROMPT_COMMAND='echo -ne "\033]0;${USER}@${HOSTNAME}: ${PWD}\007"'
if [ "$SSH_CONNECTION" != '' -a "$TERM" != 'linux' ]; then
    declare -a HOSTIP
    HOSTIP=`echo $SSH_CONNECTION |awk '{print $3}'`
    export PROMPT_COMMAND='echo -ne "\033]0;${USER}@$HOSTIP:[${HOSTNAME%%.*}]:${PWD/#$HOME/~} \007"'
fi
###-tns-completion-start-###
if [ -f /Users/leo/.tnsrc ]; then 
    source /Users/leo/.tnsrc 
fi
###-tns-completion-end-###
```

å¦‚æœå›¾æ ‡æ˜¾ç¤ºä¸å‡ºæ¥å¯ä»¥è¿›å…¥ iTerm çš„è®¾ç½® > Profiles > Text > Change Font > é€‰æ‹© `Hack Nerd Font` å­—ä½“ Regular å¤§å° 18ptï¼Œå®Œæˆåé‡æ–°å¯åŠ¨ iTerm ï¼Œè®¾ç½®å®Œæˆã€‚



# æ’ä»¶

> æ‰“å¼€é…ç½®æ–‡ä»¶ï¼š`~/.zshrc`

- [autojump](https://github.com/wting/autojump)ï¼šå¿«é€Ÿåˆ‡æ¢ç›®å½•

- [z](https://github.com/rupa/z): åŠŸèƒ½åŒautojumpï¼Œæ¯”autojumpæ›´è½»é‡æ›´å¿«

  ```bash
  brew install z
  ```

  ![](https://user-gold-cdn.xitu.io/2019/1/15/168516fb5ec8eadc?imageslim)

- [fzf](https://github.com/junegunn/fzf): å¿«é€Ÿæ¨¡ç³Šæœå¯»å™¨

  ```bash
  brew install fzf
  ```

  åœ¨å‘½ä»¤è¡Œçš„ä»»ä½•åœ°æ–¹æŒ‰ä¸‹ `CTRL-T`, `CTRL-R`, and `ALT-C` (bash, zsh, fish)ï¼Œå°±å¯ä»¥å¼€å¯äº¤äº’å¼æ¨¡ç³Šæœç´¢ç•Œé¢ï¼Œé€’å½’æœç´¢å½“å‰ç›®å½•ä¸‹çš„æ–‡ä»¶ã€‚è¾“å…¥æœç´¢é¡¹åï¼Œä¸Šã€ä¸‹é”®é€‰æ‹©ç»“æœï¼Œå›è½¦ä¸Šå±ï¼š![](https://user-gold-cdn.xitu.io/2019/1/15/168516fbb0f385c8?imageslim)

- [zsh-syntax-highlighting](https://github.com/zsh-users/zsh-syntax-highlighting)ï¼šzsh å¯ç”¨å‘½ä»¤é«˜äº®

  ```bash
  git clone https://github.com/zsh-users/zsh-syntax-highlighting.git ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-syntax-highlighting
  ```

- [zsh-autosuggestions](https://github.com/zsh-users/zsh-autosuggestions)ï¼šå‘½ä»¤è‡ªåŠ¨æç¤º

  ```bash
  git clone https://github.com/zsh-users/zsh-autosuggestions $ZSH_CUSTOM/plugins/zsh-autosuggestions
  ```

- [ä¼˜ç§€çš„å‘½ä»¤è¡Œå·¥å…·æ•´ç†](https://juejin.im/post/5c3dcecef265da6163024b1c)
- [å¼€å‘å·¥å…·åˆ†äº«](https://juejin.im/post/5c43d91cf265da613356d90c)

[powerlevel9k]: https://github.com/bhilburn/powerlevel9k "powerlevel9k"
[tool]: https://jeremysu0131.github.io/Tool-Mac-iTerm-2-Oh-My-Zsh-Powerlevel9k-è¨­å®š/ "[Tool] Mac + iTerm 2 + Oh My Zsh + Powerlevel9k è¨­å®š"
