---
title: 函数技巧
date: 2019-05-08 23:25:32
updated: 2019-05-08 23:25:32
categories:
  - 代码片段
  - javascript
tags:
  - dev
  - javascript
  - 代码片段
  - 技巧
  - 函数
---



# 一次性函数：`适用于运行一些只需执行一次的初始化代码`

```js
function Func() {
    console.log("x");
    Func = function() {
        console.log("y");
    }
}
```



# 惰性载入函数：`函数内判断分支较多较复杂时可大大节约资源开销`

```js
function Func() {
    if (a === b) {
        console.log("x");
    } else {
        console.log("y");
    }
}
// 换成
function Func() {
    if (a === b) {
        Func = function() {
            console.log("x");
        }
    } else {
        Func = function() {
            console.log("y");
        }
    }
    return Func();
}
```



# 优雅处理Async/Await参数

```js
function AsyncTo(promise) {
    return promise.then(data => [null, data]).catch(err => [err]);
}
const [err, res] = await AsyncTo(Func());
```



